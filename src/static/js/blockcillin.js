var error=function(a){window.console&&(window.console.error?window.console.error(a):window.console.log&&window.console.log(a))},loadShader=function(a,b,c,e){e=e||error;c=a.createShader(c);a.shaderSource(c,b);a.compileShader(c);return a.getShaderParameter(c,a.COMPILE_STATUS)?c:(lastError=a.getShaderInfoLog(c),e("*** Error compiling shader '"+c+"':"+lastError),a.deleteShader(c),null)},createProgram=function(a,b,c,e){for(var f=a.createProgram(),d=0;d<b.length;d++)a.attachShader(f,b[d]);if(c)for(d=0;d<
c.length;d++)a.bindAttribLocation(f,e?e[d]:d,c[d]);a.linkProgram(f);return a.getProgramParameter(f,a.LINK_STATUS)?f:(lastError=a.getProgramInfoLog(f),error("Error in program linking: "+lastError),a.deleteProgram(f),null)};
$(document).ready(function(){var a=document.getElementById("canvas"),b=a.getContext("webgl")||a.getContext("experimental-webgl"),c,e;$.when($.get("/glsl/vertex.glsl",function(a){c=loadShader(b,a,b.VERTEX_SHADER)}),$.get("/glsl/fragment.glsl",function(a){e=loadShader(b,a,b.FRAGMENT_SHADER)})).then(function(){var a=createProgram(b,[c,e]);b.useProgram(a);var d=b.getAttribLocation(a,"a_position"),a=b.getUniformLocation(a,"u_color"),g=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,g);b.bufferData(b.ARRAY_BUFFER,
new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),b.STATIC_DRAW);b.enableVertexAttribArray(d);b.vertexAttribPointer(d,2,b.FLOAT,!1,0,0);b.uniform3f(a,0,0,0);b.drawArrays(b.TRIANGLES,0,6);b.bufferData(b.ARRAY_BUFFER,new Float32Array([-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5]),b.STATIC_DRAW);b.vertexAttribPointer(d,2,b.FLOAT,!1,0,0);b.uniform3f(a,1,1,1);b.drawArrays(b.TRIANGLES,0,6)})});
